import{draw_k_line,draw_situation}from"../../js/charts.js";import{showTable,getDate,btnSubmitEvent}from"../../js/common.js";import{axiosRequest}from"../../js/request";import{shareModules,loadingDIY}from"../../js/share";import{shuffling}from"../../js/shufflingFigure";import"../../css/graph-style.css";import"../../css/shuffling-style.css";function IndexRun(){shareModules(),shuffling(),console.log(document.readyState);let t=["./stockData/SZZS/SZZS.json","./stockData/motion_index/motion_index20211121.json"],e=["k-line","motion-index"];axiosRequest(t[0]).then((t=>{draw_k_line(t[0],e[0])})),axiosRequest(t[1]).then((t=>{draw_situation(t[0],e[1])}));let s=axiosRequest("./stockData/infoDateList.json"),a=["./stockData/general_picture/index_dailybasic/index_dailybasic","./stockData/general_picture/SZ_daily_info/SZ_daily_info","./stockData/SSE/stock_sse_deal_daily_df/stock_sse_deal_daily_df","./stockData/SSE/bond_summary_sse_df/bond_summary_sse_df"],o=["general-picture","ssebond-day","ssedeal-day","bond-summary-sse"],n=[!1,!1,!1];s.then((t=>{let e=t[1],s=[];for(let a=0;a<e.length;a++)s.push(t[0].map((t=>parseInt(t[a])))),s[a]=s[a].filter((t=>!isNaN(t)));let i=[];for(let t=0;t<s.length;t++)i.push(Math.max.apply(null,s[t]));let l=a.map((t=>t.split("/").pop())),r={};for(let t=0;t<a.length;t++)r[l[t]]=a[t];getDate(20);for(let t=0;t<o.length;t++)axiosRequest(r[l[t]]+i[t]+".json").then((e=>{showTable(e,o[t],n[t])}))}));let i=["general-picture-button","ssebond-day-button","ssedeal-day-button","bond-summary-sse-button"];for(let t=0;t<i.length;t++){let e=document.getElementById(i[t]);btnSubmitEvent(e,i[t]+"-input-year",i[t]+"-input-month",i[t]+"-input-day",a[t],o[t],n[t])}}export default IndexRun;