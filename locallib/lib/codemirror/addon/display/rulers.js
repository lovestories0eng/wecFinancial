!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}((function(e){"use strict";function r(e){for(var r=e.display.lineSpace.childNodes.length-1;r>=0;r--){var o=e.display.lineSpace.childNodes[r];/(^|\s)CodeMirror-ruler($|\s)/.test(o.className)&&o.parentNode.removeChild(o)}}function o(r){for(var o=r.getOption("rulers"),t=r.defaultCharWidth(),i=r.charCoords(e.Pos(r.firstLine(),0),"div").left,l=r.display.scroller.offsetHeight+30,s=0;s<o.length;s++){var n=document.createElement("div");n.className="CodeMirror-ruler";var d,a=o[s];"number"==typeof a?d=a:(d=a.column,a.className&&(n.className+=" "+a.className),a.color&&(n.style.borderColor=a.color),a.lineStyle&&(n.style.borderLeftStyle=a.lineStyle),a.width&&(n.style.borderLeftWidth=a.width),o[s].className),n.style.left=i+d*t+"px",n.style.top="-50px",n.style.bottom="-20px",n.style.minHeight=l+"px",r.display.lineSpace.insertBefore(n,r.display.cursorDiv)}}function t(e){r(e),o(e)}e.defineOption("rulers",!1,(function(i,l,s){s&&s!=e.Init&&(r(i),i.off("refresh",t)),l&&l.length&&(o(i),i.on("refresh",t))}))}));