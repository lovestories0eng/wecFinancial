!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}((function(e){"use strict";e.defineMode("julia",(function(e,t){var r="error";function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var i=t.operators||/^\.?[|&^\\%*+\-<>!=\/]=?|\?|~|:|\$|\.[<>]|<<=?|>>>?=?|\.[<>=]=|->?|\/\/|\bin\b/,a=t.delimiters||/^[;,()[\]{}]/,o=t.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*!*/,l=/^(`|'|"{3}|([br]?"))/,c=n(["if","else","elseif","while","for","begin","let","end","do","try","catch","finally","return","break","continue","global","local","const","export","import","importall","using","function","macro","module","baremodule","type","immutable","quote","typealias","abstract","bitstype","ccall"]),u=n(["true","false","enumerate","open","close","nothing","NaN","Inf","print","println","Int","Int8","Uint8","Int16","Uint16","Int32","Uint32","Int64","Uint64","Int128","Uint128","Bool","Char","Float16","Float32","Float64","Array","Vector","Matrix","String","UTF8String","ASCIIString","error","warn","info","@printf"]),f=n(["begin","function","type","immutable","let","macro","for","while","quote","if","else","elseif","try","finally","catch","do"]),s=n(["end","else","elseif","catch","finally"]),m=/^@[_A-Za-z][_A-Za-z0-9]*/,p=/^:[_A-Za-z][_A-Za-z0-9]*/;function h(e){var t=d(e);return"["==t||"{"==t}function d(e){return 0==e.scopes.length?null:e.scopes[e.scopes.length-1]}function g(e,n){var b=n.leaving_expr;if(e.sol()&&(b=!1),n.leaving_expr=!1,b&&e.match(/^'+/))return"operator";if(e.match(/^\.{2,3}/))return"operator";if(e.eatSpace())return null;var v=e.peek();if("#"===v)return e.skipToEnd(),"comment";"["===v&&n.scopes.push("["),"{"===v&&n.scopes.push("{");var x,y=d(n);if("["===y&&"]"===v&&(n.scopes.pop(),n.leaving_expr=!0),"{"===y&&"}"===v&&(n.scopes.pop(),n.leaving_expr=!0),")"===v&&(n.leaving_expr=!0),!h(n)&&(x=e.match(f,!1))&&n.scopes.push(x),!h(n)&&e.match(s,!1)&&n.scopes.pop(),h(n)&&e.match(/^end/))return"number";if(e.match(/^=>/))return"operator";if(e.match(/^[0-9\.]/,!1)){var _=RegExp(/^im\b/),z=!1;if(e.match(/^\d*\.(?!\.)\d+([ef][\+\-]?\d+)?/i)&&(z=!0),e.match(/^\d+\.(?!\.)\d*/)&&(z=!0),e.match(/^\.\d+/)&&(z=!0),z)return e.match(_),n.leaving_expr=!0,"number";var F=!1;if(e.match(/^0x[0-9a-f]+/i)&&(F=!0),e.match(/^0b[01]+/i)&&(F=!0),e.match(/^0o[0-7]+/i)&&(F=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(F=!0),e.match(/^0(?![\dx])/i)&&(F=!0),F)return e.match(_),n.leaving_expr=!0,"number"}return e.match(/^(::)|(<:)/)?"operator":!b&&e.match(p)?"string":e.match(i)?"operator":e.match(l)?(n.tokenize=function(e){for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";function a(a,o){for(;!a.eol();)if(a.eatWhile(/[^'"\\]/),a.eat("\\")){if(a.next(),n&&a.eol())return i}else{if(a.match(e))return o.tokenize=g,i;a.eat(/['"]/)}if(n){if(t.singleLineStringErrors)return r;o.tokenize=g}return i}return a.isString=!0,a}(e.current()),n.tokenize(e,n)):e.match(m)?"meta":e.match(a)?null:e.match(c)?"keyword":e.match(u)?"builtin":e.match(o)?(n.leaving_expr=!0,"variable"):(e.next(),r)}return{startState:function(){return{tokenize:g,scopes:[],leaving_expr:!1}},token:function(e,t){var n=function(e,t){var n=t.tokenize(e,t);return"."===e.current()?(null===(n=e.match(o,!1)?null:r)&&"meta"===t.lastStyle&&(n="meta"),n):n}(e,t);return t.lastStyle=n,n},indent:function(e,t){var r=0;return"end"!=t&&"]"!=t&&"}"!=t&&"else"!=t&&"elseif"!=t&&"catch"!=t&&"finally"!=t||(r=-1),4*(e.scopes.length+r)},lineComment:"#",fold:"indent",electricChars:"edlsifyh]}"}})),e.defineMIME("text/x-julia","julia")}));